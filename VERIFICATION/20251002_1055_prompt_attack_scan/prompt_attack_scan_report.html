<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Prompt攻击扫描报告 - 2025-10-02</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; }
        h1 { color: #d32f2f; border-bottom: 3px solid #d32f2f; padding-bottom: 10px; }
        h2 { color: #1976d2; margin-top: 30px; }
        .metric { display: inline-block; margin: 10px 20px; padding: 15px 25px; background: #e3f2fd; border-radius: 5px; }
        .safe { color: #2e7d32; font-weight: bold; }
        .warning { color: #f57c00; font-weight: bold; }
        .critical { color: #d32f2f; font-weight: bold; }
        .summary { background: #fff3e0; padding: 20px; border-left: 5px solid #ff9800; margin: 20px 0; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th { background: #1976d2; color: white; padding: 12px; text-align: left; }
        td { padding: 10px; border-bottom: 1px solid #ddd; }
        tr:hover { background: #f5f5f5; }
        .footer { margin-top: 40px; padding-top: 20px; border-top: 2px solid #ddd; color: #666; }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔍 Prompt攻击扫描报告</h1>
        <p><strong>扫描时间</strong>: 2025-10-02T10:55:24+08:00</p>
        <p><strong>工作空间</strong>: /Users/a606/谷歌运维</p>
        
        <div class="summary">
            <h2>📊 扫描摘要</h2>
            <div class="metric">
                <div style="font-size: 24px;" class="safe">0</div>
                <div>Prompt注入风险</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="warning">2</div>
                <div>本地路径泄露</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="critical">4</div>
                <div>敏感信息泄露</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="safe">0</div>
                <div>SQL注入风险</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="safe">0</div>
                <div>越狱尝试</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="warning">4</div>
                <div>环境变量泄露</div>
            </div>
            <div class="metric">
                <div style="font-size: 24px;" class="safe">0</div>
                <div>不安全Prompt</div>
            </div>
        </div>
        
        <h2>📋 详细检测结果</h2>
        <table>
            <tr>
                <th>检测项</th>
                <th>结果</th>
                <th>风险等级</th>
                <th>建议</th>
            </tr>
            <tr>
                <td>1. Prompt注入关键词</td>
                <td>发现 <strong>0</strong> 个</td>
                <td class="safe">✓ 安全</td>
                <td>审查并移除危险关键词</td>
            </tr>
            <tr>
                <td>2. 本地路径泄露</td>
                <td>发现 <strong>2</strong> 个</td>
                <td class="warning">⚠️ 警告</td>
                <td>使用环境变量或配置文件</td>
            </tr>
            <tr>
                <td>3. 敏感信息泄露</td>
                <td>发现 <strong>4</strong> 个</td>
                <td class="critical">❌ 严重</td>
                <td>立即移除，使用密钥管理</td>
            </tr>
            <tr>
                <td>4. SQL注入风险</td>
                <td>发现 <strong>0</strong> 个</td>
                <td class="safe">✓ 安全</td>
                <td>使用参数化查询</td>
            </tr>
            <tr>
                <td>5. LLM越狱尝试</td>
                <td>发现 <strong>0</strong> 个</td>
                <td class="safe">✓ 安全</td>
                <td>审查并移除越狱代码</td>
            </tr>
            <tr>
                <td>6. 环境变量泄露</td>
                <td>发现 <strong>4</strong> 个</td>
                <td class="warning">⚠️ 警告</td>
                <td>使用.env文件管理</td>
            </tr>
            <tr>
                <td>7. Prompt模板安全</td>
                <td>发现 <strong>0</strong> 个不安全</td>
                <td class="safe">✓ 安全</td>
                <td>添加输入验证和过滤</td>
            </tr>
        </table>
        
        <h2>🔐 安全建议</h2>
        <ol>
            <li><strong>立即修复严重问题</strong>：敏感信息泄露、SQL注入、越狱尝试</li>
            <li><strong>审查警告项</strong>：Prompt注入关键词、本地路径、环境变量</li>
            <li><strong>加固防护</strong>：为所有Prompt模板添加输入验证</li>
            <li><strong>定期扫描</strong>：建议每日或每次代码提交前运行此脚本</li>
            <li><strong>参考文档</strong>：查看 PROMPT_OWASP.md 获取完整防护指南</li>
        </ol>
        
        <div class="footer">
            <p><strong>扫描工具</strong>: check_prompt_attack.sh v1.0</p>
            <p><strong>报告位置</strong>: /Users/a606/谷歌运维/VERIFICATION/20251002_1055_prompt_attack_scan</p>
            <p><strong>下次扫描</strong>: 建议24小时内或代码提交前</p>
        </div>
    </div>
</body>
</html>
